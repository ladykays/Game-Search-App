<% if (games && games.length > 0) { %>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    <% games.forEach((game) => { %>
      
        <a class="group" href="/game/<%= game.slug %>">
          <ul
            class="bg-gray-800 rounded-lg shadow-md overflow-hidden transition-transform duration-300 group-hover:-translate-y-1 group-hover:shadow-lg"
          >
            <li class="text-white list-none">
              <div class="relative">
                <img
                  src="<%= game.background_image %>"
                  alt="<%= game.name %>"
                  class="w-full h-48 object-cover"
                />
                <button
                  class="absolute top-2 right-2 p-2 bg-gray-800/70 dark:bg-gray-900/70 rounded-full hover:bg-gray-700/80 dark:hover:bg-gray-800/80 transition-colors"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="lucide lucide-heart h-5 w-5 text-white"
                  >
                    <path
                      d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"
                    ></path>
                  </svg>
                </button>
              </div>

              <div class="p-4">
                <h3 class="text-xl font-semibold text-gray-100 mb-4 line-clamp-1">
                  <%= game.name %>
                </h3>
                <div class="flex items-center justify-between text-sm">
                  <p class="text-gray-200">
                    <span class="text-amber-400">â˜†</span> <%= game.rating %>
                  </p>
                  <p class="text-gray-500"><%= game.released %></p>
                </div>
                <div class="flex flex-wrap gap-1 mt-3">
                  <% if (game.genres) { %> <% game.genres.forEach((genre) => { %>
                  <span
                    class="px-2 py-1 text-base font-bold rounded-full bg-blue-800 text-indigo-200"
                  >
                    <%= genre.name %>
                  </span>
                  <% }) %> <% } %>
                </div>
                <div class="mt-3 flex flex-wrap gap-1">
                  <% if (game.platforms && game.platforms.length > 0) { %> 
                    <% game.platforms.forEach((p) => { %>
                      <span
                        class="px-2 py-1 text-base rounded-full bg-gray-700 text-gray-200"
                      >
                        <%= p.platform.name %>
                      </span>
                    <% }) %> 
                  <% } %>
                </div>
                <div class="mt-5">
                  <h3 class="text-sm mb-4 line-clamp-1 <%= (game.esrb_rating?.name === 'Adults Only' || game.esrb_rating?.name === 'Mature')  ? 'text-pink-500 font-extrabold' : 'text-gray-100 font-bold ' %>">
                    <%= game.esrb_rating?.name || "No Age Rating Provided" %>
                  </h3>
                </div>
                
              </div>
            </li>
          </ul>
        </a>
      
    <% }) %>
  </div>
<% } else { %>
  <p class="text-white p-4">No games found</p>
<% } %>


